<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Extract Mean Oxygen Flux Per State From a List of Chambers — o2k_oxy_list_to_tbl • tidymito</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract Mean Oxygen Flux Per State From a List of Chambers — o2k_oxy_list_to_tbl"><meta name="description" content="This function attempts to automate the extraction of relevant values from tables in the format of the Oroboros-O2K output csv. 'Stable' regions within each stage of the SUIT protocols are identified, with the mean values across these regions returned for downstream analysis. If multiple stable regions are present, the earliest (in terms of run time) will be used.  The requirements for &quot;Stability&quot; can be edited using the window_size and change_threshold arguments.  Negative values will not be considered."><meta property="og:description" content="This function attempts to automate the extraction of relevant values from tables in the format of the Oroboros-O2K output csv. 'Stable' regions within each stage of the SUIT protocols are identified, with the mean values across these regions returned for downstream analysis. If multiple stable regions are present, the earliest (in terms of run time) will be used.  The requirements for &quot;Stability&quot; can be edited using the window_size and change_threshold arguments.  Negative values will not be considered."><meta property="og:image" content="https://fig-t.github.io/tidymito/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tidymito</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/FiG-T/tidymito/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Extract Mean Oxygen Flux Per State From a List of Chambers</h1>
      <small class="dont-index">Source: <a href="https://github.com/FiG-T/tidymito/blob/HEAD/R/o2k_oxy_to_tbl.R" class="external-link"><code>R/o2k_oxy_to_tbl.R</code></a></small>
      <div class="d-none name"><code>o2k_oxy_list_to_tbl.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function attempts to automate the extraction of relevant values from tables in the format of the Oroboros-O2K output csv. 'Stable' regions within each stage of the SUIT protocols are identified, with the mean values across these regions returned for downstream analysis. If multiple stable regions are present, the earliest (in terms of run time) will be used.  The requirements for "Stability" can be edited using the <code>window_size</code> and <code>change_threshold</code> arguments.  Negative values will not be considered.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">o2k_oxy_list_to_tbl</span><span class="op">(</span></span>
<span>  <span class="va">chamber_list</span>,</span>
<span>  <span class="va">unique_events</span>,</span>
<span>  <span class="va">open_timings</span>,</span>
<span>  treat_opening <span class="op">=</span> <span class="st">"after"</span>,</span>
<span>  window_sizes <span class="op">=</span> <span class="fl">15</span>,</span>
<span>  change_thresholds <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-chamber-list">chamber_list<a class="anchor" aria-label="anchor" href="#arg-chamber-list"></a></dt>
<dd><p>A list of tibbles or dataframes containing the raw oxygen flux measurements.  Each element in the list must have at three columns containing information on the time, the event name, and the calibrated oxygen flux readings for a <em>single</em> chamber (in this order). Any additional columns will be ignored. Each chamber should be a separate element in the list. This can be generated using <code><a href="o2k_oxy_to_list.html">o2k_oxy_to_list()</a></code>.</p></dd>


<dt id="arg-unique-events">unique_events<a class="anchor" aria-label="anchor" href="#arg-unique-events"></a></dt>
<dd><p>A vector of unique events that occur for which a window/mean value is to be calculated. This should not include 'open', 'close', nor 'WARNING'. If two events occur simultaneously, only the second event should be included. e.g.: If "11Tm" is added immediately after "11As", only "11Tm" should be included in this vector. If both events are included, an error will occur and the output will not be returned.</p></dd>


<dt id="arg-open-timings">open_timings<a class="anchor" aria-label="anchor" href="#arg-open-timings"></a></dt>
<dd><p>A tibble with at least one column named 'time'. Each row should contain the time at which a chamber was opened.</p></dd>


<dt id="arg-treat-opening">treat_opening<a class="anchor" aria-label="anchor" href="#arg-treat-opening"></a></dt>
<dd><p>In instances where a chamber is opened during a state, should the reading be taken from "before" or "after" the event? Must be one of these two values.</p></dd>


<dt id="arg-window-sizes">window_sizes<a class="anchor" aria-label="anchor" href="#arg-window-sizes"></a></dt>
<dd><p>A numeric value specifying the size of the "window" that must be reached before mean values are calculated. If this window size is not met before the next event the final window of this size will be used and a warning will be returned. Example.: A window size of 15 (the default) means that the oxygen flux value must be stable for 30 seconds (15 x 2 second intervals) for a mean value to be calculated and returned.  If the signal is never stable for 30 seconds (in this example) then the final 30 seconds before the next event will be used.</p></dd>


<dt id="arg-change-thresholds">change_thresholds<a class="anchor" aria-label="anchor" href="#arg-change-thresholds"></a></dt>
<dd><p>A numeric value specifying the tolerance for change between consecutive O2K measurements. Changes less than this value will be considered 'stable'.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble with three columns: state, oxygen flux in left chamber, oxygen flux in right chamber.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other read o2k files:
<code><a href="o2k_oxy_to_list.html">o2k_oxy_to_list</a>()</code>,
<code><a href="read_o2k_oxy_csv.html">read_o2k_oxy_csv</a>()</code>,
<code><a href="read_o2k_oxy_xlsx.html">read_o2k_oxy_xlsx</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span> <span class="va">example_data</span> <span class="op">&lt;-</span> <span class="fu">o2k_oxy_list_to_tbl</span><span class="op">(</span></span></span>
<span class="r-in"><span>   chamber_list <span class="op">=</span> <span class="va">test_data</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>   unique_events <span class="op">=</span> <span class="va">unique_events</span>,</span></span>
<span class="r-in"><span>   open_timings <span class="op">=</span> <span class="va">test_data</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>   treat_opening <span class="op">=</span> <span class="st">"after"</span>,</span></span>
<span class="r-in"><span>   window_sizes <span class="op">=</span> <span class="fl">15</span>,</span></span>
<span class="r-in"><span>   change_thresholds <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>   <span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'unique_events' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co"># using output from `o2k_oxy_to_list()`:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co"># get unique events</span></span></span>
<span class="r-in"><span>   <span class="va">unique_events</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">output_from_o2k_oxy_to_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">event_left</span><span class="op">)</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">output_from_o2k_oxy_to_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">event_left</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'output_from_o2k_oxy_to_list' not found</span>
<span class="r-in"><span>   <span class="va">unique_events</span> <span class="op">&lt;-</span> <span class="va">unique_events</span><span class="op">[</span><span class="op">!</span><span class="va">unique_events</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"your_event"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'unique_events' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="va">example_data</span> <span class="op">&lt;-</span> <span class="fu">o2k_oxy_list_to_tbl</span><span class="op">(</span></span></span>
<span class="r-in"><span>   chamber_list <span class="op">=</span> <span class="va">output_from_o2k_oxy_to_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>   unique_events <span class="op">=</span> <span class="va">unique_events</span>,</span></span>
<span class="r-in"><span>   open_timings <span class="op">=</span> <span class="va">output_from_o2k_oxy_to_list</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>   treat_opening <span class="op">=</span> <span class="st">"after"</span>,</span></span>
<span class="r-in"><span>   window_sizes <span class="op">=</span> <span class="fl">15</span>,</span></span>
<span class="r-in"><span>   change_thresholds <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>   <span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'unique_events' not found</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Finley Grover-Thomas, Enrique Rodriguez, Bella Peng.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

